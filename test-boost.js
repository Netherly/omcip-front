/**
 * –°–∫—Ä–∏–ø—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è x2 –±—É—Å—Ç–∞ –Ω–∞ 10 –º–∏–Ω—É—Ç
 * 
 * –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:
 * 1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
 * 2. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12)
 * 3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É Console
 * 4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å –∫–æ–¥ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª—å
 * 5. –ù–∞–∂–º–∏—Ç–µ Enter
 * 
 * –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: 
 * 1. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –∫–∞–∫ test-boost.js
 * 2. –í –∫–æ–Ω—Å–æ–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ: fetch('file:///path/to/test-boost.js').then(r => r.text()).then(eval)
 */

(async () => {
  console.log('üöÄ –°–∫—Ä–∏–ø—Ç –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ x2 –±—É—Å—Ç–∞...');
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –¥–æ—Å—Ç—É–ø–µ–Ω –ª–∏ window
  if (typeof window === 'undefined') {
    console.error('‚ùå –≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ');
    return;
  }
  
  try {
    // –ò—â–µ–º React DevTools –∏–ª–∏ –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
    // –î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º localStorage –∏ –ª–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    
    const multiplier = 2;
    const durationMinutes = 10;
    const expiresAt = Date.now() + (durationMinutes * 60 * 1000);
    
    const boostData = {
      type: 'tap_multiplier',
      multiplier: multiplier,
      expiresAt: expiresAt,
      durationMinutes: durationMinutes
    };
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
    localStorage.setItem('test_boost_data', JSON.stringify(boostData));
    console.log('‚úÖ –î–∞–Ω–Ω—ã–µ –±—É—Å—Ç–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ localStorage:', boostData);
    console.log(`üìä –ë—É—Å—Ç –∏—Å—Ç–µ—á—ë—Ç –≤: ${new Date(expiresAt).toLocaleTimeString('ru-RU')}`);
    
    // –ü—ã—Ç–∞–µ–º—Å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –±—É—Å—Ç–∞
    const token = localStorage.getItem('token') || localStorage.getItem('auth_token');
    
    if (!token) {
      console.warn('‚ö†Ô∏è –¢–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω. –ë—É—Å—Ç –Ω–µ –±—É–¥–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å —Å–µ—Ä–≤–µ—Ä–æ–º.');
      console.log('üí° –í—ã –º–æ–∂–µ—Ç–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±—É—Å—Ç –ª–æ–∫–∞–ª—å–Ω–æ, –Ω–æ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ –æ–Ω –∏—Å—á–µ–∑–Ω–µ—Ç.');
    } else {
      console.log('‚úÖ –¢–æ–∫–µ–Ω –Ω–∞–π–¥–µ–Ω, –ø–æ–ø—ã—Ç–∞–µ–º—Å—è –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –±—É—Å—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ...');
      
      // –ü–æ–ø—ã—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –±—É—Å—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
      try {
        const response = await fetch('http://localhost:3000/api/game/bonus/activate', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${token}`
          },
          body: JSON.stringify({
            type: 'tap_multiplier',
            multiplier: multiplier,
            duration_minutes: durationMinutes
          })
        });
        
        if (response.ok) {
          const data = await response.json();
          console.log('‚úÖ –ë—É—Å—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:', data);
        } else {
          console.warn('‚ö†Ô∏è –°–µ—Ä–≤–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø—Ä—è–º—É—é –∞–∫—Ç–∏–≤–∞—Ü–∏—é –±—É—Å—Ç–∞');
          console.log('üìù –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–Ω—É –∏–∑ –∑–∞–¥–∞—á –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –±—É—Å—Ç–∞ –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ');
        }
      } catch (error) {
        console.log('üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –≠–Ω–¥–ø–æ–∏–Ω—Ç –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω');
        console.log('üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å –±—É—Å—Ç —á–µ—Ä–µ–∑ –∑–∞–¥–∞—á—É –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ Tasks');
      }
    }
    
    console.log('\nüìã –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –±—É—Å—Ç:');
    console.log('1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É Tasks');
    console.log('2. –ü–æ–ª—É—á–∏—Ç—å –±–æ—Å—Ç-–Ω–∞–≥—Ä–∞–¥—É —á–µ—Ä–µ–∑ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –Ω–∞–≥—Ä–∞–¥—ã –∑–∞ –≤—Ö–æ–¥');
    console.log('3. –ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞–¥–∞—á—É —Å –±–æ—Å—Ç-–Ω–∞–≥—Ä–∞–¥–æ–π');
    
    console.log('\n‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–æ!');
    console.log('–ï—Å–ª–∏ –±—É—Å—Ç –Ω–µ –∞–∫—Ç–∏–≤–µ–Ω, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –µ–≥–æ —á–µ—Ä–µ–∑ Tasks —Å—Ç—Ä–∞–Ω–∏—Ü—É.');
    
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –±—É—Å—Ç–∞:', error);
  }
})();
